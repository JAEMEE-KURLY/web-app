{"remainingRequest":"/Users/kimhayoung/Documents/2022/kurly/web-app/crud-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/kimhayoung/Documents/2022/kurly/web-app/crud-frontend/src/components/DashBoard.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/kimhayoung/Documents/2022/kurly/web-app/crud-frontend/src/components/DashBoard.vue","mtime":1661320943386},{"path":"/Users/kimhayoung/Documents/2022/kurly/web-app/crud-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kimhayoung/Documents/2022/kurly/web-app/crud-frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/kimhayoung/Documents/2022/kurly/web-app/crud-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kimhayoung/Documents/2022/kurly/web-app/crud-frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport PriceService from '../service/PriceService';\nexport default {\n  name: \"DashBoard\",\n  data(){\n    return {\n      itemList:[],\n      priceInfo:[],\n      selectedItem:'사과',\n      sites:[]\n    }\n  },\n  methods:{\n    refreshDashboard(){\n      this.sites = []\n      this.itemList = []\n      this.priceInfo = []\n      PriceService.retrieveAllPrices().then((res)=>{\n        let item = res.data.filter((x) =>x.categoryName.includes(this.selectedItem))\n        let k_item = item.filter((x)=> x.companyName.includes('kurly'))[0]\n        let o_item = item.filter((x) => !x.companyName.includes('kurly'))\n        this.sites.push({id: k_item.id, siteName: k_item.companyName})\n        this.priceInfo.push({id:k_item.id, minV: k_item.minPrc})\n\n        o_item.forEach(e => this.sites.push({id: e.id, siteName: e.companyName}))\n        o_item.forEach(e => this.priceInfo.push({id:e.id, minV: e.minPrc}))\n      \n        res.data.forEach(e => {\n          if(this.itemList.indexOf(e.categoryName.trim()) === -1)\n          this.itemList.push(e.categoryName.trim())})\n      })\n    },\n    onChange(value){\n      this.refreshDashboard()\n    },\n    moveCategory(){\n      this.$router.push('/category')\n    },\n    moveSite(){\n      this.$router.push('/site')\n    }\n  },\n  created(){\n    this.refreshDashboard();\n  }\n};\n",{"version":3,"sources":["DashBoard.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"DashBoard.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"container\">\n   <h3>대시보드</h3>\n    <button class=\"btn btn-success\" @click=\"moveCategory()\" >품목 관리</button> &nbsp;\n    <button class=\"btn btn-success\" @click=\"moveSite()\">대상 사이트 관리</button>\n  <div class=\"container\">\n    <select v-model=\"selectedItem\" @change=\"onChange()\">\n      <option v-for=\"item in itemList\" :key=\"item\" :value=\"item\">{{item}}</option>\n    </select>\n    <label>{{selectedItem}}</label>\n    <table class=\"table\">\n      <thead>\n        <tr>\n          <th v-for=\"site in sites\" v-bind:key=\"site.id\"> {{site.siteName}}최저가</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr> \n          <td v-for=\"price in priceInfo\" v-bind:key=\"price.id\">{{price.minV}}</td>\n        </tr> \n      </tbody>\n    </table>\n  </div>\n\n  </div>\n</template>\n\n<script>\nimport PriceService from '../service/PriceService';\nexport default {\n  name: \"DashBoard\",\n  data(){\n    return {\n      itemList:[],\n      priceInfo:[],\n      selectedItem:'사과',\n      sites:[]\n    }\n  },\n  methods:{\n    refreshDashboard(){\n      this.sites = []\n      this.itemList = []\n      this.priceInfo = []\n      PriceService.retrieveAllPrices().then((res)=>{\n        let item = res.data.filter((x) =>x.categoryName.includes(this.selectedItem))\n        let k_item = item.filter((x)=> x.companyName.includes('kurly'))[0]\n        let o_item = item.filter((x) => !x.companyName.includes('kurly'))\n        this.sites.push({id: k_item.id, siteName: k_item.companyName})\n        this.priceInfo.push({id:k_item.id, minV: k_item.minPrc})\n\n        o_item.forEach(e => this.sites.push({id: e.id, siteName: e.companyName}))\n        o_item.forEach(e => this.priceInfo.push({id:e.id, minV: e.minPrc}))\n      \n        res.data.forEach(e => {\n          if(this.itemList.indexOf(e.categoryName.trim()) === -1)\n          this.itemList.push(e.categoryName.trim())})\n      })\n    },\n    onChange(value){\n      this.refreshDashboard()\n    },\n    moveCategory(){\n      this.$router.push('/category')\n    },\n    moveSite(){\n      this.$router.push('/site')\n    }\n  },\n  created(){\n    this.refreshDashboard();\n  }\n};\n</script>\n\n<style>\n@import \nurl(https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css);\n\n</style>\n"]}]}