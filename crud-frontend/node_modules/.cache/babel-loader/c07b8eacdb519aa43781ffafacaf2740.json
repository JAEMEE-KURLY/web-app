{"remainingRequest":"/Users/kimhayoung/Documents/2022/kurly/web-app/crud-frontend/node_modules/thread-loader/dist/cjs.js!/Users/kimhayoung/Documents/2022/kurly/web-app/crud-frontend/node_modules/babel-loader/lib/index.js!/Users/kimhayoung/Documents/2022/kurly/web-app/crud-frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/kimhayoung/Documents/2022/kurly/web-app/crud-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/kimhayoung/Documents/2022/kurly/web-app/crud-frontend/src/components/DashBoard.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/kimhayoung/Documents/2022/kurly/web-app/crud-frontend/src/components/DashBoard.vue","mtime":1661320943386},{"path":"/Users/kimhayoung/Documents/2022/kurly/web-app/crud-frontend/babel.config.js","mtime":1661257261584},{"path":"/Users/kimhayoung/Documents/2022/kurly/web-app/crud-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kimhayoung/Documents/2022/kurly/web-app/crud-frontend/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kimhayoung/Documents/2022/kurly/web-app/crud-frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/kimhayoung/Documents/2022/kurly/web-app/crud-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/kimhayoung/Documents/2022/kurly/web-app/crud-frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es7.array.includes\";\nimport \"core-js/modules/es6.string.includes\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport PriceService from \"../service/PriceService\";\nexport default {\n  name: \"DashBoard\",\n  data: function data() {\n    return {\n      itemList: [],\n      priceInfo: [],\n      selectedItem: '사과',\n      sites: []\n    };\n  },\n  methods: {\n    refreshDashboard: function refreshDashboard() {\n      var _this = this;\n\n      this.sites = [];\n      this.itemList = [];\n      this.priceInfo = [];\n      PriceService.retrieveAllPrices().then(function (res) {\n        var item = res.data.filter(function (x) {\n          return x.categoryName.includes(_this.selectedItem);\n        });\n        var k_item = item.filter(function (x) {\n          return x.companyName.includes('kurly');\n        })[0];\n        var o_item = item.filter(function (x) {\n          return !x.companyName.includes('kurly');\n        });\n\n        _this.sites.push({\n          id: k_item.id,\n          siteName: k_item.companyName\n        });\n\n        _this.priceInfo.push({\n          id: k_item.id,\n          minV: k_item.minPrc\n        });\n\n        o_item.forEach(function (e) {\n          return _this.sites.push({\n            id: e.id,\n            siteName: e.companyName\n          });\n        });\n        o_item.forEach(function (e) {\n          return _this.priceInfo.push({\n            id: e.id,\n            minV: e.minPrc\n          });\n        });\n        res.data.forEach(function (e) {\n          if (_this.itemList.indexOf(e.categoryName.trim()) === -1) _this.itemList.push(e.categoryName.trim());\n        });\n      });\n    },\n    onChange: function onChange(value) {\n      this.refreshDashboard();\n    },\n    moveCategory: function moveCategory() {\n      this.$router.push('/category');\n    },\n    moveSite: function moveSite() {\n      this.$router.push('/site');\n    }\n  },\n  created: function created() {\n    this.refreshDashboard();\n  }\n};",{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4BA;AACA;AACAA,mBADA;AAEAC,MAFA,kBAEA;AACA;AACAC,kBADA;AAEAC,mBAFA;AAGAC,wBAHA;AAIAC;AAJA;AAMA,GATA;AAUAC;AACAC,oBADA,8BACA;AAAA;;AACA;AACA;AACA;AACAC;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;;AACA;AAAAC;AAAAC;AAAA;;AACA;AAAAD;AAAAE;AAAA;;AAEAC;AAAA;AAAAH;AAAAC;AAAA;AAAA;AACAE;AAAA;AAAAH;AAAAE;AAAA;AAAA;AAEAE;AACA,oEACA;AAAA,SAFA;AAGA,OAbA;AAcA,KAnBA;AAoBAC,YApBA,oBAoBAC,KApBA,EAoBA;AACA;AACA,KAtBA;AAuBAC,gBAvBA,0BAuBA;AACA;AACA,KAzBA;AA0BAC,YA1BA,sBA0BA;AACA;AACA;AA5BA,GAVA;AAwCAC,SAxCA,qBAwCA;AACA;AACA;AA1CA","names":["name","data","itemList","priceInfo","selectedItem","sites","methods","refreshDashboard","PriceService","id","siteName","minV","o_item","res","onChange","value","moveCategory","moveSite","created"],"sourceRoot":"src/components","sources":["DashBoard.vue"],"sourcesContent":["<template>\n  <div class=\"container\">\n   <h3>대시보드</h3>\n    <button class=\"btn btn-success\" @click=\"moveCategory()\" >품목 관리</button> &nbsp;\n    <button class=\"btn btn-success\" @click=\"moveSite()\">대상 사이트 관리</button>\n  <div class=\"container\">\n    <select v-model=\"selectedItem\" @change=\"onChange()\">\n      <option v-for=\"item in itemList\" :key=\"item\" :value=\"item\">{{item}}</option>\n    </select>\n    <label>{{selectedItem}}</label>\n    <table class=\"table\">\n      <thead>\n        <tr>\n          <th v-for=\"site in sites\" v-bind:key=\"site.id\"> {{site.siteName}}최저가</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr> \n          <td v-for=\"price in priceInfo\" v-bind:key=\"price.id\">{{price.minV}}</td>\n        </tr> \n      </tbody>\n    </table>\n  </div>\n\n  </div>\n</template>\n\n<script>\nimport PriceService from '../service/PriceService';\nexport default {\n  name: \"DashBoard\",\n  data(){\n    return {\n      itemList:[],\n      priceInfo:[],\n      selectedItem:'사과',\n      sites:[]\n    }\n  },\n  methods:{\n    refreshDashboard(){\n      this.sites = []\n      this.itemList = []\n      this.priceInfo = []\n      PriceService.retrieveAllPrices().then((res)=>{\n        let item = res.data.filter((x) =>x.categoryName.includes(this.selectedItem))\n        let k_item = item.filter((x)=> x.companyName.includes('kurly'))[0]\n        let o_item = item.filter((x) => !x.companyName.includes('kurly'))\n        this.sites.push({id: k_item.id, siteName: k_item.companyName})\n        this.priceInfo.push({id:k_item.id, minV: k_item.minPrc})\n\n        o_item.forEach(e => this.sites.push({id: e.id, siteName: e.companyName}))\n        o_item.forEach(e => this.priceInfo.push({id:e.id, minV: e.minPrc}))\n      \n        res.data.forEach(e => {\n          if(this.itemList.indexOf(e.categoryName.trim()) === -1)\n          this.itemList.push(e.categoryName.trim())})\n      })\n    },\n    onChange(value){\n      this.refreshDashboard()\n    },\n    moveCategory(){\n      this.$router.push('/category')\n    },\n    moveSite(){\n      this.$router.push('/site')\n    }\n  },\n  created(){\n    this.refreshDashboard();\n  }\n};\n</script>\n\n<style>\n@import \nurl(https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css);\n\n</style>\n"]}]}